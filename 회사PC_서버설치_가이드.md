# 🏢 회사 PC 임시 서버 설치 가이드 (비개발자용)

> 💡 이 가이드는 복사-붙여넣기만으로 설치할 수 있도록 만들어졌습니다.

---

## ✅ 준비물 체크리스트

- [ ] 회사 PC (Windows 10/11)
- [ ] 인터넷 연결
- [ ] 관리자 권한
- [ ] 프로젝트 폴더 (newgaon-LMS)

---

## 📝 1단계: 필수 프로그램 설치 (30분)

### 1-1. Node.js 설치

1. 웹브라우저에서 아래 주소 접속:
   ```
   https://nodejs.org/ko/
   ```

2. **"18.x.x LTS"** 버전 다운로드 클릭

3. 다운로드한 파일 실행 → **"Next" 계속 클릭** → 설치 완료

4. **확인 방법**:
   - `Win + R` 키 → `cmd` 입력 → 엔터
   - 아래 명령어 입력:
   ```cmd
   node --version
   ```
   - `v18.x.x` 같은 버전 정보가 나오면 성공!

### 1-2. MySQL 설치

1. 웹브라우저에서 아래 주소 접속:
   ```
   https://dev.mysql.com/downloads/installer/
   ```

2. **"Windows (x86, 32-bit), MSI Installer"** 다운로드
   - "No thanks, just start my download" 클릭

3. 다운로드한 파일 실행:
   - **Developer Default** 선택 → Next
   - **Execute** 클릭 (설치 시작)
   - 중간에 **비밀번호 설정** 나오면:
     ```
     비밀번호: Newgaon2024!
     ```
     (메모장에 꼭 적어두세요!)
   - 나머지는 **Next** 계속 클릭

4. **확인 방법**:
   - 시작 메뉴에서 "MySQL Workbench" 검색
   - 실행되면 성공!

---

## 📂 2단계: 프로젝트 폴더 준비 (5분)

### 2-1. 프로젝트 폴더 복사

현재 개발 중인 `newgaon-LMS` 폴더를 회사 PC로 복사:

**방법 1: USB 사용**
- USB에 `newgaon-LMS` 폴더 복사
- 회사 PC의 `C:\` 드라이브에 붙여넣기

**방법 2: 이메일 사용**
- `newgaon-LMS` 폴더를 압축
- 자신에게 이메일로 전송
- 회사 PC에서 다운로드 후 `C:\`에 압축 해제

**최종 경로**: `C:\newgaon-LMS`

### 2-2. 명령 프롬프트 실행

1. `Win + R` 키 누르기
2. `cmd` 입력 → 엔터
3. 아래 명령어 입력:
```cmd
cd C:\newgaon-LMS\backend
```

---

## 🗄️ 3단계: 데이터베이스 설정 (10분)

### 3-1. MySQL 접속

명령 프롬프트에서 입력:
```cmd
mysql -u root -p
```

비밀번호 입력: `Newgaon2024!` (1단계에서 설정한 비밀번호)

### 3-2. 데이터베이스 생성

MySQL 프롬프트에 **한 줄씩** 복사-붙여넣기:

```sql
CREATE DATABASE lms_system CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

```sql
EXIT;
```

---

## ⚙️ 4단계: 백엔드 설정 (10분)

### 4-1. 환경 설정 파일 생성

명령 프롬프트에서:
```cmd
cd C:\newgaon-LMS\backend
copy .env.example .env
```

### 4-2. 환경 설정 파일 수정

1. 파일 탐색기에서 `C:\newgaon-LMS\backend\.env` 파일 찾기
2. 메모장으로 열기
3. 아래 내용 찾아서 수정:

**변경 전:**
```
DB_PASSWORD=your_database_password_here
```

**변경 후:**
```
DB_PASSWORD=Newgaon2024!
```

4. 저장하고 닫기 (Ctrl + S)

### 4-3. 필요한 패키지 설치

명령 프롬프트에서:
```cmd
npm install
```

⏳ **3-5분 소요** (많은 파일을 다운로드합니다. 기다려주세요!)

### 4-4. 데이터베이스 초기화

```cmd
node scripts\init_mysql.js
```

✅ "데이터베이스 초기화 완료" 메시지가 나오면 성공!

---

## 🚀 5단계: 서버 실행 (2분)

### 5-1. PM2 설치 (자동 실행 프로그램)

```cmd
npm install -g pm2
```

### 5-2. 서버 시작

```cmd
pm2 start server.js --name lms-backend
```

### 5-3. 자동 시작 설정 (PC 재부팅해도 자동 실행)

```cmd
pm2 startup
pm2 save
```

---

## ✅ 6단계: 확인 (2분)

### 6-1. 서버 상태 확인

명령 프롬프트에서:
```cmd
pm2 status
```

**확인 포인트:**
- `status: online` (녹색) 이면 정상!
- `status: errored` (빨간색) 이면 문제 있음

### 6-2. PC IP 주소 확인

```cmd
ipconfig
```

**"IPv4 주소"** 찾기 (예: 192.168.0.17)
→ 이 주소를 **메모장에 적어두세요!**

### 6-3. 웹브라우저에서 테스트

웹브라우저 주소창에 입력:
```
http://localhost:5000/health
```

**예상 결과:**
```json
{
  "success": true,
  "status": "healthy",
  "database": "connected"
}
```

이 메시지가 나오면 **설치 완료!** 🎉

---

## 🔥 7단계: 방화벽 설정 (5분)

다른 기기(모바일)에서 접속하려면 방화벽을 열어야 합니다.

### 7-1. Windows 방화벽 열기

1. `Win + R` 키 → `wf.msc` 입력 → 엔터
2. 왼쪽에서 **"인바운드 규칙"** 클릭
3. 오른쪽에서 **"새 규칙"** 클릭
4. **포트** 선택 → 다음
5. **TCP** 선택, 특정 로컬 포트: `5000` 입력 → 다음
6. **연결 허용** → 다음
7. 모두 체크 → 다음
8. 이름: `LMS Backend` → 완료

---

## 📱 8단계: 모바일 앱 설정

앱 개발자에게 아래 정보 전달:

```
서버 주소: http://192.168.0.17:5000
(6-2단계에서 확인한 IP 주소 사용)
```

앱의 `AppConfig.java` 파일에서 이 주소로 변경하면 됩니다.

---

## 🛠️ 서버 관리 명령어

### 서버 상태 확인
```cmd
pm2 status
```

### 서버 중지
```cmd
pm2 stop lms-backend
```

### 서버 재시작
```cmd
pm2 restart lms-backend
```

### 서버 로그 보기 (에러 확인용)
```cmd
pm2 logs lms-backend
```

---

## 🆘 문제 해결

### ❌ "npm을 찾을 수 없습니다" 에러

**해결 방법:**
1. 명령 프롬프트 완전히 닫기
2. 새로 열기
3. 다시 시도

### ❌ "Access Denied" 에러

**해결 방법:**
1. 명령 프롬프트를 **관리자 권한**으로 실행
   - 시작 메뉴 → "cmd" 검색
   - 오른쪽 클릭 → "관리자 권한으로 실행"

### ❌ MySQL 연결 안 됨

**해결 방법:**
1. MySQL 서비스 실행 확인
   - `Win + R` → `services.msc`
   - "MySQL80" 찾기 → 실행 중인지 확인
2. `.env` 파일의 비밀번호 확인

### ❌ 모바일에서 연결 안 됨

**체크 리스트:**
- [ ] 회사 PC와 모바일이 같은 WiFi에 연결되어 있나요?
- [ ] 방화벽 설정을 완료했나요? (7단계)
- [ ] IP 주소가 정확한가요?
- [ ] 서버가 실행 중인가요? (`pm2 status`)

---

## 📞 도움 요청 시 필요한 정보

문제가 생겼을 때 개발자에게 보낼 정보:

1. **서버 상태:**
   ```cmd
   pm2 status
   ```
   결과 복사

2. **서버 로그:**
   ```cmd
   pm2 logs lms-backend --lines 50
   ```
   결과 복사

3. **IP 주소:**
   ```cmd
   ipconfig
   ```
   IPv4 주소 복사

---

## ⏱️ 전체 소요 시간

- 1단계 (프로그램 설치): 30분
- 2단계 (폴더 준비): 5분
- 3단계 (DB 설정): 10분
- 4단계 (백엔드 설정): 10분
- 5단계 (서버 실행): 2분
- 6단계 (확인): 2분
- 7단계 (방화벽): 5분

**총 약 1시간**

---

## ✅ 설치 완료 체크리스트

설치가 끝나면 아래 항목들을 확인하세요:

- [ ] Node.js 설치됨 (`node --version`)
- [ ] MySQL 설치됨 (MySQL Workbench 실행 가능)
- [ ] 프로젝트 폴더 복사됨 (`C:\newgaon-LMS`)
- [ ] 데이터베이스 생성됨
- [ ] `.env` 파일 수정됨
- [ ] `npm install` 완료
- [ ] 데이터베이스 초기화 완료
- [ ] PM2로 서버 실행 중 (`pm2 status` → online)
- [ ] 웹브라우저에서 `/health` 응답 확인
- [ ] IP 주소 확인 완료
- [ ] 방화벽 포트 열림

**모두 체크되면 설치 완료!** 🎊

---

## 💡 추가 팁

### PC를 끄면 서버도 꺼지나요?

네, 하지만 PM2 자동 시작 설정을 했기 때문에:
- PC 재부팅 후 자동으로 서버가 다시 시작됩니다
- 별도 명령어 입력 필요 없음

### 인터넷이 느려지거나 PC가 느려지나요?

- 학생 수가 적다면 거의 영향 없음
- CPU/메모리 사용량 매우 낮음 (1% 미만)
- 데이터 사용량도 매우 적음

### 얼마나 안정적인가요?

- PM2가 프로세스를 관리하여 에러 시 자동 재시작
- 24시간 운영 가능
- 로그 자동 저장으로 문제 추적 가능

---

**작성일**: 2025-11-15
**버전**: 1.0
**대상**: 비개발자 관리자
